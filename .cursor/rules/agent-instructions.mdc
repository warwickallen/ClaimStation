---
description: Global agent behaviour and interaction guidelines
alwaysApply: true
priority: 5
---

# Agent Instructions

## Core Principles

1. **Minimal changes** — Make the smallest change that achieves the goal
2. **Verify before editing** — Always read files before modifying them
3. **Follow existing patterns** — Match the codebase style and conventions
4. **Test your work** — Run the project's type-check/lint/test (e.g. `npm run type-check` in claimstation-app; use the active project's scripts in claimstation-www)

## Before Making Changes

1. **Identify the repo** — This workspace has 3 Git repos (root, claimstation-app, claimstation-www). Work and run git/npm in the repo that matches the task. See `workspace.mdc`.
2. **claimstation-app**: Check `claimstation-app/docs/en/tech/implementation-status/index.md` for current project state
3. Read relevant source files to understand existing patterns
4. Review the rules in `.cursor/rules/` for domain-specific guidance

## Change Workflow

```
1. Read → Understand the current state
2. Plan → Identify minimal changes needed
3. Edit → Make targeted modifications
4. Verify → Run type-check/lint, fix any errors
5. Test → Run tests if applicable
6. Document → Update relevant docs if needed
```

## Communication Style

- Be concise and direct
- Use British English spelling
- Explain the "why" not just the "what"
- Report blockers immediately

## What NOT to Do

- Don't refactor unrelated code
- Don't add features that weren't requested
- Don't create new files unless necessary
- Don't add excessive comments or documentation

## Autonomous Git Operations (Mandatory)

Agents MUST commit, push, and monitor deployments autonomously when working in a repo with CI. This is required, not optional.

- **Commit** after each logical unit of work
- **Push** after every completed task—do not leave commits unpushed at session end
- **Verify before pushing**: run the project's checks (e.g. `npm run type-check && npm run lint && npm run test` in claimstation-app)
- **Monitor** every push with `gh run watch --exit-status` where CI is configured—do not skip
- **Fix failures** promptly; re-push and re-monitor until CI is green

Default behaviour: push through to production. Only skip if explicitly blocked (e.g. no push permissions). See `agentic-automation.mdc` for detailed workflow.

## Error Recovery

If something breaks:
1. Read the error message carefully
2. Check the relevant source file
3. Make a targeted fix
4. Verify with the project's type-check/lint
5. If still broken, explain what you've tried
